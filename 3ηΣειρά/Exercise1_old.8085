
IN 10H
LXI B,0064H
LXI D,0B00H
MVI H,00H
MVI A,0DH
SIM

LOOP1: MOV A,H
CPI 00H
JZ TURN_OFF

MVI A,00H
STA 3000H
MVI A,10H
STA 0B00H
STA 0B01H
STA 0B04H
STA 0B05H
MOV A,H
DAA
ANI 0FH
STA 0B02H
MOV A,H
DAA
RAR
RAR
RAR
RAR
ANI 0FH
STA 0B03H
PUSH PSW
PUSH B
PUSH D
PUSH H
CALL STDM
POP H
POP D
POP B
POP PSW
MVI L,0AH
DISPLAY: CALL DCD
CALL DELB
DCR L
JNZ DISPLAY
DCR H
MOV A,H
ANI 0FH
CPI 0FH
JNZ LOOP1
MOV A,H
SUI 06H
MOV H,A
;DELAY: CALL DELB
JMP LOOP1

TURN_OFF: MVI A,FFH
STA 3000H
STUCK: JMP LOOP1

INTR_ROUTINE: MVI H,60H
;MOV A,H
;POP H
;MOV H,A
;INX SP
;INX SP
EI
RET
;JMP LOOP1

END